{% extends "base.html" %}


{% block title %}Sign Up - TuneLink{% endblock %}

{% block head %}
    <style>
        .settings-card {
            width:75vw;
        }
        input[type="file"]::file-selector-button {
            background-color: #4467e6; /* Green background */
            color: white; /* White text */
            padding: 5px 10px; /* Padding */
            border-color:white; /* No border */
            border-radius: 3px; /* Rounded corners */
            cursor: pointer; /* Pointer/hand icon */
            font-size: 12px; /* Smaller text */
            margin-left:1px;
        }
        .file-input {
            width:100%;
        }
        .pfp-container {
            width:100px;
            height:100px;
        }
        .pfp {
            border-radius:50%;box-shadow:0 0 10px rgba(0,0,0,0.5);object-fit:cover;border:3px solid #fff;
            width:100%;
            height:100%;

        }
        @media (max-width: 480px) {
            .settings-card {
                width: 90vw;
            }
            .card-body {
                padding:20px;
            }
        }
        @media (max-width: 321px) {
            input[type="file"]::file-selector-button {
                background-color: #4467e6; /* Green background */
                color: white; /* White text */
                padding: 5px 10px; /* Padding */
                border-color:white; /* No border */
                border-radius: 3px; /* Rounded corners */
                cursor: pointer; /* Pointer/hand icon */
                font-size: 12px; /* Smaller text */
                margin-left:-8px;
            }
        }
    </style
    </style>
{% endblock %}

{% block content %}
    <div style='display:flex; flex-direction:column; align-items:center;justify-content:center; margin-top: 6vh; '>
        <div class="card bg-secondary mb-3 settings-card" >
            <div class="card-header"><button type="button" class="btn btn-light"><a style="text-decoration:none;color:black;" href="/">Home</a></button></div>
            <div class="card-body" >
                <h4 class="card-title">Settings for <b>{{user.username}}</b></h4>
                <form action="" method="POST", enctype='multipart/form-data'>
                    {% csrf_token %}
                    <div style='display:flex; flex-direction:column; ;justify-content:center; margin-bottom:3vh;'>
                        <label for="formFile" class="form-label mt-4" >Profile Image</label>
                        <div class="pfp-container">
                            <img class="pfp"  src="{{user_profile.profileimg}}"    />
                        </div>
                        
                    </div>
                    
                    
                    <div style='display:flex; flex-direction:column; padding:0vw;'>
                        <label for="about" style="margin-top:1vh">Bio</label>  
                        
                        <textarea id="about" name="bio" rows="3"  class="shadow-none bg-gray-100"
                        style="background-color:#d9dad7;margin-top:1vh;border-radius:3px;border:1px solid #ccc;box-shadow:0 4px 10px rgba(0,0,0,0.5);">{{user_profile.bio}}</textarea>
                        
                    </div>
                    <button type="submit" class="btn btn-primary" style="margin-top:2vh;">Save Changes</button>

                </form>
                <div style='display:flex; flex-direction:row; justify-content:left;padding-right:2vw;border-radius:3px;  ' >
                        
                    <form method="POST" action="{% url 'update_settings' %}">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-primary" style="margin-top:2vh;">Generate New Profile Picture</button>
                    </form>
                    
                </div>
            </div>
        </div>
    </div>




{% endblock %}